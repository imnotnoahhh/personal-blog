---
import Layout from "../../layouts/Layout.astro";
import { getCollection } from "astro:content";
import ProjectCard from "../../components/ProjectCard.astro";

const allProjects = await getCollection("projects");
const sortedProjects = allProjects.sort(
    (a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf(),
);

// Separate into categories for easier browsing if needed in future,
// but for now we list all with a nice badge.
---

<Layout title="Projects | Noah Qin">
    <div class="space-y-8">
        <div>
            <h1
                class="text-3xl font-bold tracking-tight text-zinc-900 dark:text-white mb-4"
            >
                Projects
            </h1>
            <p
                class="text-lg text-zinc-600 dark:text-zinc-400 max-w-2xl leading-relaxed"
            >
                App Store apps, research papers, and open source experiments.
            </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            {sortedProjects.map((project) => <ProjectCard project={project} />)}
        </div>
    </div>
</Layout>
