---
import Layout from "../layouts/Layout.astro";
import { getCollection } from "astro:content";
---

<Layout title="Home | Builder & Researcher">
	<section class="space-y-6 mb-16">
		<h1 class="text-4xl md:text-5xl font-bold tracking-tight text-white">
			Hi, I'm <span class="text-indigo-400">Your Name</span>.
		</h1>
		<p class="text-xl text-zinc-400 max-w-2xl leading-relaxed">
			I build apps that impact thousands and research AI to shape the
			future. International high school student aiming for the stars.
		</p>
		<div class="flex gap-4 pt-4">
			<a
				href="/projects"
				class="px-5 py-2.5 rounded-lg bg-white text-zinc-950 font-semibold hover:bg-zinc-200 transition-colors"
			>
				View Projects
			</a>
			<a
				href="/blog"
				class="px-5 py-2.5 rounded-lg bg-zinc-800 text-white font-medium hover:bg-zinc-700 transition-colors border border-zinc-700"
			>
				Read Essays
			</a>
		</div>
	</section>

	<!-- Featured Projects -->
	<section class="space-y-8">
		<div class="flex items-center justify-between">
			<h2 class="text-2xl font-bold text-white">Selected Work</h2>
			<a
				href="/projects"
				class="text-sm text-zinc-500 hover:text-white transition-colors"
				>View all &rarr;</a
			>
		</div>

		<div class="grid gap-4 md:grid-cols-2">
			{
				(await getCollection("projects"))
					.sort(
						(a, b) =>
							b.data.publishDate.valueOf() -
							a.data.publishDate.valueOf(),
					)
					.slice(0, 2)
					.map((project) => (
						<a
							href={`/projects/${project.slug}`}
							class="group block p-5 rounded-xl bg-zinc-900/40 border border-zinc-800/50 hover:bg-zinc-900 hover:border-zinc-700 transition-all"
						>
							<div class="flex items-center justify-between mb-2">
								<span
									class={`text-[10px] uppercase tracking-wider font-semibold px-2 py-0.5 rounded ${
										project.data.type === "app"
											? "bg-blue-500/10 text-blue-400"
											: "bg-purple-500/10 text-purple-400"
									}`}
								>
									{project.data.type}
								</span>
							</div>
							<h3 class="text-lg font-bold text-zinc-200 group-hover:text-white">
								{project.data.title}
							</h3>
							<p class="text-sm text-zinc-400 mt-1 line-clamp-2">
								{project.data.description}
							</p>
						</a>
					))
			}
		</div>
	</section>

	<!-- Latest Writing -->
	<section class="space-y-8 pt-8 border-t border-zinc-800">
		<div class="flex items-center justify-between">
			<h2 class="text-2xl font-bold text-white">Writing</h2>
			<a
				href="/blog"
				class="text-sm text-zinc-500 hover:text-white transition-colors"
				>View all &rarr;</a
			>
		</div>

		<div class="space-y-6">
			{
				(await getCollection("blog"))
					.sort(
						(a, b) =>
							b.data.publishDate.valueOf() -
							a.data.publishDate.valueOf(),
					)
					.slice(0, 2)
					.map((post) => (
						<a href={`/blog/${post.slug}`} class="block group">
							<div class="flex flex-col md:flex-row md:items-baseline md:justify-between gap-1">
								<h3 class="text-lg font-medium text-zinc-300 group-hover:text-indigo-400 transition-colors">
									{post.data.title}
								</h3>
								<time class="text-xs text-zinc-500 font-mono flex-shrink-0">
									{post.data.publishDate.toLocaleDateString(
										"en-US",
										{
											month: "short",
											day: "numeric",
											year: "numeric",
										},
									)}
								</time>
							</div>
						</a>
					))
			}
		</div>
	</section>
</Layout>
