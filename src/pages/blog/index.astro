---
import Layout from "../../layouts/Layout.astro";
import { getCollection } from "astro:content";
import PostRow from "../../components/PostRow.astro";

const posts = await getCollection("blog");
const sortedPosts = posts.sort(
    (a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf(),
);
---

<Layout title="Writing | Noah Qin">
    <div class="space-y-12">
        <div class="max-w-2xl">
            <h1
                class="text-3xl font-bold tracking-tight text-zinc-900 dark:text-white mb-4"
            >
                Writing
            </h1>
            <p class="text-zinc-600 dark:text-zinc-400 leading-relaxed">
                Reflection on engineering, research, and the future.
                <a
                    href="/archive"
                    class="text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 dark:hover:text-indigo-300 ml-2 text-sm font-medium"
                    >View Archive &rarr;</a
                >
            </p>
        </div>

        <ul class="space-y-10">
            {
                sortedPosts.map((post) => (
                    <li>
                        <PostRow post={post} />
                    </li>
                ))
            }
        </ul>
    </div>
</Layout>
