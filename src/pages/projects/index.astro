---
import Layout from "../../layouts/Layout.astro";
import { getCollection } from "astro:content";
import ProjectCard from "../../components/ProjectCard.astro";

const allProjects = await getCollection("projects");
const sortedProjects = allProjects.sort(
    (a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf(),
);

// Separate into categories for easier browsing if needed in future,
// but for now we list all with a nice badge.
---

<Layout title="Projects | Portfolio">
    <div class="space-y-8">
        <div class="border-b border-zinc-800 pb-8">
            <h1 class="text-3xl font-bold tracking-tight text-white mb-4">
                Projects
            </h1>
            <p class="text-zinc-400 max-w-2xl">
                A collection of things I've built, ranging from iOS apps to AI
                research papers.
            </p>
        </div>

        <div class="grid gap-6 md:grid-cols-2">
            {sortedProjects.map((project) => <ProjectCard project={project} />)}
        </div>
    </div>
</Layout>
