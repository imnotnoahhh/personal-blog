---
import type { CollectionEntry } from "astro:content";

interface Props {
    project: CollectionEntry<"projects">;
}

const { project } = Astro.props;
---

<div
    class="group relative flex flex-col gap-3 p-6 rounded-2xl bg-white dark:bg-zinc-900/40 border border-zinc-200 dark:border-zinc-800/50 hover:shadow-lg dark:hover:bg-zinc-900 dark:hover:border-zinc-700 transition-all duration-300 shadow-sm dark:shadow-none"
>
    <a
        href={`/projects/${project.slug}`}
        class="absolute inset-0 z-0 rounded-2xl"
        aria-label={project.data.title}></a>

    <div
        class="relative z-10 pointer-events-none flex items-center justify-between mb-2"
    >
        <span
            class={`px-3 py-1 rounded-full text-xs font-medium border ${
                project.data.type === "app"
                    ? "bg-blue-50 text-blue-600 border-blue-200 dark:bg-blue-500/10 dark:text-blue-400 dark:border-blue-500/20"
                    : project.data.type === "research"
                      ? "bg-purple-50 text-purple-600 border-purple-200 dark:bg-purple-500/10 dark:text-purple-400 dark:border-purple-500/20"
                      : "bg-emerald-50 text-emerald-600 border-emerald-200 dark:bg-emerald-500/10 dark:text-emerald-400 dark:border-emerald-500/20"
            }`}
        >
            {
                project.data.type === "app"
                    ? "iOS App"
                    : project.data.type === "research"
                      ? "Research"
                      : "Project"
            }
        </span>
        {
            project.data.stats && (
                <span class="text-xs text-zinc-500 font-mono flex items-center gap-1">
                    {project.data.stats}
                </span>
            )
        }
    </div>

    <h2
        class="relative z-10 pointer-events-none text-xl font-bold text-zinc-900 dark:text-zinc-100 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors"
    >
        {project.data.title}
    </h2>

    <p
        class="relative z-10 pointer-events-none text-sm text-zinc-600 dark:text-zinc-400 line-clamp-2"
    >
        {project.data.description}
    </p>

    <div
        class="relative z-10 flex flex-wrap gap-2 mt-auto pt-4 pointer-events-auto"
    >
        {
            project.data.tags.map((tag) => (
                <a
                    href={`/tags/${tag}`}
                    class="text-xs text-zinc-500 font-mono hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors relative z-20"
                >
                    #{tag}
                </a>
            ))
        }
    </div>
</div>
